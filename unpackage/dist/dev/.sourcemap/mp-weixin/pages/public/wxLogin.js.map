{"version":3,"sources":["webpack:///D:/work/HBuilderProjects/ufuankang/main.js","webpack:///D:/work/HBuilderProjects/ufuankang/pages/public/wxLogin.vue?0a70","webpack:///D:/work/HBuilderProjects/ufuankang/pages/public/wxLogin.vue?3dcc","webpack:///D:/work/HBuilderProjects/ufuankang/pages/public/wxLogin.vue?2f59","webpack:///D:/work/HBuilderProjects/ufuankang/pages/public/wxLogin.vue?387e","webpack:///D:/work/HBuilderProjects/ufuankang/pages/public/wxLogin.vue","webpack:///D:/work/HBuilderProjects/ufuankang/pages/public/wxLogin.vue?6b18","webpack:///D:/work/HBuilderProjects/ufuankang/pages/public/wxLogin.vue?ee09"],"names":["createPage","Page","data","SessionKey","OpenId","nickName","avatarUrl","isCanUse","uni","getStorageSync","methods","wxGetUserInfo","userInfo","that","login","provider","success","loginRes","getUserInfo","infoRes","code","request","url","encryptedData","iv","method","header","res","hideLoading","status","id","userId","nickname","portrait","setStorageSync","WX_TOKEN","e","navigateBack","showToast","title","icon","duration","fail","onLoad"],"mappings":"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","file":"pages/public/wxLogin.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/public/wxLogin.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./wxLogin.vue?vue&type=template&id=4961d440&\"\nvar renderjs\nimport script from \"./wxLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./wxLogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wxLogin.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\work\\\\tool\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4961d440')) {\n      api.createRecord('4961d440', component.options)\n    } else {\n      api.reload('4961d440', component.options)\n    }\n    module.hot.accept(\"./wxLogin.vue?vue&type=template&id=4961d440&\", function () {\n      api.rerender('4961d440', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilderProjects/ufuankang/pages/public/wxLogin.vue\"\nexport default component.exports","export * from \"-!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxLogin.vue?vue&type=template&id=4961d440&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxLogin.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport {\n\t    mapMutations  \n\t} from 'vuex';\n\t\n    export default {\n        data() {\n            return {\n                SessionKey: '',\n                OpenId: '',\n                nickName: null,\n                avatarUrl: null,\n                isCanUse: uni.getStorageSync('isCanUse')||true//默认为true\n            };\n        },\n        methods: {\n\t\t\t...mapMutations(['login']),\n            //第一授权获取用户信息===》按钮触发\n          async wxGetUserInfo() {\n\t\t\t   let userInfo = {};\n\t\t\t   let that = this;\n\t\t\t\tuni.login({\n\t\t\t\t   provider: 'weixin',\n\t\t\t\t   success: function(loginRes) {\n\t\t\t\t\t   uni.getUserInfo({\n\t\t\t\t\t\t   provider: 'weixin',\n\t\t\t\t\t\t   success: function(infoRes) {\n\t\t\t\t\t\t\t   let code = loginRes.code;\n\t\t\t\t\t\t\t   uni.request({\n\t\t\t\t\t\t\t\t   url: 'http://localhost:30221/jeecg-boot/sys/getOpenid',\n\t\t\t\t\t\t\t\t   data: {\n\t\t\t\t\t\t\t\t\t   code: code,\n\t\t\t\t\t\t\t\t\t   encryptedData: infoRes.encryptedData,\n\t\t\t\t\t\t\t\t\t   iv: infoRes.iv,\n\t\t\t\t\t\t\t\t   },\n\t\t\t\t\t\t\t\t   method: 'GET',\n\t\t\t\t\t\t\t\t   header: {\n\t\t\t\t\t\t\t\t\t   'content-type': 'application/json'\n\t\t\t\t\t\t\t\t   },\n\t\t\t\t\t\t\t\t   success: (res) => {\n\t\t\t\t\t\t\t\t\t   uni.hideLoading();\n\t\t\t\t\t\t\t\t\t   if(res.data.status === 1){\n\t\t\t\t\t\t\t\t\t\t   userInfo = {\n\t\t\t\t\t\t\t\t\t\t\t   id: res.data.userId,\n\t\t\t\t\t\t\t\t\t\t\t   nickname: res.data.nickname,\n\t\t\t\t\t\t\t\t\t\t\t   portrait: res.data.avatarUrl\n\t\t\t\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t\t\t\t\t   try {\n\t\t\t\t\t\t\t\t\t\t       uni.setStorageSync('WX_TOKEN', res.data.WX_TOKEN);//同步缓存TOKEN\n\t\t\t\t\t\t\t\t\t\t   } catch (e) {}\n\t\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t\t\t   if(userInfo.id){\n\t\t\t\t\t\t\t\t\t\t\t\tthat.login(userInfo);\n\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack();  \n\t\t\t\t\t\t\t\t\t\t   }else{\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '授权登陆失败',\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t\t   }else{\n\t\t\t\t\t\t\t\t\t\t   uni.showToast({\n\t\t\t\t\t\t\t\t\t\t   \ttitle: '微信授权失败,请稍后重试',\n\t\t\t\t\t\t\t\t\t\t   \ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t   \tduration: 3000\n\t\t\t\t\t\t\t\t\t\t   });\n\t\t\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t\t   });\n\t\t\t\t\t\t   },\n\t\t\t\t\t\t   fail(res) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: \"福安康提醒您，授权通过后方可购物哦！\",\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\tduration: 3000,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t   },\n\t\t\t\t\t   });\n\t\t\t\t\t   \n\t\t\t\t   },\n\t\t\t\t   \n\t\t\t\t});\n\t\t\t\t\n            },\n        },\n        onLoad() {//默认加载\n            // this.login();\n        }\n    }\n","import mod from \"-!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxLogin.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxLogin.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}